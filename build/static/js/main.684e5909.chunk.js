(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{20:function(e,t,n){e.exports={form:"Signup_form__26H1B",heading:"Signup_heading__1fgPc",label:"Signup_label__KOLUe",input:"Signup_input__Gmuji",button:"Signup_button__2I8cF"}},23:function(e,t,n){e.exports={form:"Login_form__1E2k_",heading:"Login_heading__veWdX",label:"Login_label__cqCsp",input:"Login_input__3jgVl",button:"Login_button__3_X5v"}},24:function(e,t,n){e.exports={form:"ContactForm_form__305Bt",label:"ContactForm_label__2OGHE",input:"ContactForm_input__1q7Th",btn:"ContactForm_btn__lQWkZ"}},26:function(e,t,n){e.exports={container:"Navigation_container__2DXLt",link:"Navigation_link__1IfMl",link_active:"Navigation_link_active__2smIC"}},27:function(e,t,n){e.exports={container:"LoginMenu_container__vcuQj",link:"LoginMenu_link__1YFI3",link_active:"LoginMenu_link_active__1x2df"}},29:function(e,t,n){e.exports={list:"Phonebook_list__tLxSf",item:"Phonebook_item__2Rhz7",close:"Phonebook_close__1cKle"}},31:function(e,t,n){e.exports={container:"UserMenu_container__qcu_F",avatar:"UserMenu_avatar__1NWjO",name:"UserMenu_name__2lVxQ",button:"UserMenu_button__38Qix"}},39:function(e,t,n){e.exports={wrapper:"Filter_wrapper__-j6aH",label:"Filter_label__2hlUS",input:"Filter_input__3HHtJ"}},44:function(e,t,n){e.exports={section:"Container_section__22Aey",heading:"Container_heading__2F_7x"}},56:function(e,t,n){e.exports={appbar:"Appbar_appbar__1A1kA"}},57:function(e,t,n){e.exports={heading:"HomeView_heading__3XA2C"}},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var r,a,c,o,u,s,i=n(0),l=n.n(i),b=n(34),j=n.n(b),h=n(15),p=n(5),f=n(54),m=n(38),O=n(3),d=n(22),g=n(55),_=n.n(g),x=n(2),v=n(7),C=Object(O.b)("contacts/fetchContactsRequest"),k=Object(O.b)("contacts/fetchContactsSuccess"),N=Object(O.b)("contacts/fetchContactsError"),S=Object(O.b)("contacts/addContactRequest"),y=Object(O.b)("contacts/addContactSuccess"),w=Object(O.b)("contacts/addContactError"),E=Object(O.b)("contacts/deleteContactRequest"),L=Object(O.b)("contacts/deleteContactSuccess"),U=Object(O.b)("contacts/deleteContactError"),A=Object(O.b)("contacts/changeFilter"),F=Object(O.c)([],(r={},Object(x.a)(r,k,(function(e,t){return t.payload})),Object(x.a)(r,y,(function(e,t){var n=t.payload;return[].concat(Object(m.a)(e),[n])})),Object(x.a)(r,L,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),r)),R=Object(O.c)(!1,(a={},Object(x.a)(a,C,(function(){return!0})),Object(x.a)(a,k,(function(){return!1})),Object(x.a)(a,N,(function(){return!1})),Object(x.a)(a,S,(function(){return!0})),Object(x.a)(a,y,(function(){return!1})),Object(x.a)(a,w,(function(){return!1})),Object(x.a)(a,E,(function(){return!0})),Object(x.a)(a,L,(function(){return!1})),Object(x.a)(a,U,(function(){return!1})),a)),q=Object(O.c)("",Object(x.a)({},A,(function(e,t){return t.payload}))),P=Object(O.c)(null,{}),T=Object(v.b)({contacts:F,filter:q,loading:R,error:P}),M={registerRequest:Object(O.b)("auth/registerRequest"),registerSuccess:Object(O.b)("auth/registerSuccess"),registerError:Object(O.b)("auth/registerError"),loginRequest:Object(O.b)("auth/loginRequest"),loginSuccess:Object(O.b)("auth/loginSuccess"),loginError:Object(O.b)("auth/loginError"),logoutRequest:Object(O.b)("auth/logoutRequest"),logoutSuccess:Object(O.b)("auth/logoutSuccess"),logoutError:Object(O.b)("auth/logoutError"),getCurrentUserRequest:Object(O.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(O.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(O.b)("auth/getCurrentUserError")},D={name:null,email:null},H=Object(O.c)(D,(c={},Object(x.a)(c,M.registerSuccess,(function(e,t){return t.payload.user})),Object(x.a)(c,M.loginSuccess,(function(e,t){return t.payload.user})),Object(x.a)(c,M.logoutSuccess,(function(){return D})),Object(x.a)(c,M.getCurrentUserSuccess,(function(e,t){return t.payload})),c)),I=Object(O.c)(null,(o={},Object(x.a)(o,M.registerSuccess,(function(e,t){return t.payload.token})),Object(x.a)(o,M.loginSuccess,(function(e,t){return t.payload.token})),Object(x.a)(o,M.logoutSuccess,(function(){return null})),o)),z=Object(O.c)(null,(u={},Object(x.a)(u,M.registerError,(function(e,t){return t.payload})),Object(x.a)(u,M.loginError,(function(e,t){return t.payload})),Object(x.a)(u,M.logoutError,(function(e,t){return t.payload})),Object(x.a)(u,M.getCurrentUserError,(function(e,t){return t.payload})),u)),B=Object(O.c)(!1,(s={},Object(x.a)(s,M.registerSuccess,(function(){return!0})),Object(x.a)(s,M.loginSuccess,(function(){return!0})),Object(x.a)(s,M.getCurrentUserSuccess,(function(){return!0})),Object(x.a)(s,M.registerError,(function(){return!1})),Object(x.a)(s,M.loginError,(function(){return!1})),Object(x.a)(s,M.getCurrentUserError,(function(){return!1})),Object(x.a)(s,M.logoutSuccess,(function(){return!1})),s)),G=Object(v.b)({user:H,token:I,isAuthenticated:B,error:z}),Q=Object(m.a)(Object(O.d)({serializableCheck:{ignoredActions:[d.a,d.f,d.b,d.c,d.d,d.e]}})),W={key:"auth",storage:_.a,whitelist:["token"]},X=Object(O.a)({reducer:{auth:Object(d.g)(W,G),contacts:T},middleware:Q,devTools:!1}),J={store:X,persistor:Object(d.h)(X)},V=n(16),K=n(17),Y=n(18),Z=n(19),$=n(6),ee=n(26),te=n.n(ee),ne=n(1),re=function(){return Object(ne.jsxs)("div",{className:te.a.container,children:[Object(ne.jsx)(h.b,{className:te.a.link,activeClassName:te.a.link_active,exact:!0,to:"/",children:"Home"}),Object(ne.jsx)(h.b,{className:te.a.link,activeClassName:te.a.link_active,exact:!0,to:"/phonebook",children:"Phonebook"})]})},ae=n(27),ce=n.n(ae),oe=function(){return Object(ne.jsxs)("div",{className:ce.a.container,children:[Object(ne.jsx)(h.b,{className:ce.a.link,activeClassName:ce.a.link_active,to:"/signup",children:"Signup"}),Object(ne.jsx)(h.b,{className:ce.a.link,activeClassName:ce.a.link_active,to:"/login",children:"Login"})]})},ue=function(e){return e.auth.isAuthenticated},se=function(e){return e.auth.user.name},ie=n(30),le=n(21),be=n.n(le),je=n(13),he=n.n(je);he.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var pe=function(e){he.a.defaults.headers.common.Authorization="Bearer ".concat(e)},fe=function(){he.a.defaults.headers.common.Authorization=""},me={register:function(e){return function(){var t=Object(ie.a)(be.a.mark((function t(n){var r;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(M.registerRequest()),t.prev=1,t.next=4,he.a.post("/users/signup",e);case 4:r=t.sent,pe(r.data.token),n(M.registerSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(M.registerError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},login:function(e){return function(){var t=Object(ie.a)(be.a.mark((function t(n){var r;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(M.loginRequest()),t.prev=1,t.next=4,he.a.post("/users/login",e);case 4:r=t.sent,pe(r.data.token),n(M.loginSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(M.loginError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(ie.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(M.logoutRequest()),e.prev=1,e.next=4,he.a.post("users/logout");case 4:fe(),t(M.logoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(M.logoutError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(ie.a)(be.a.mark((function e(t,n){var r,a,c;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),a=r.auth.token){e.next=3;break}return e.abrupt("return");case 3:return pe(a),t(M.getCurrentUserRequest()),e.prev=5,e.next=8,he.a.get("users/current");case 8:c=e.sent,t(M.getCurrentUserSuccess(c.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(M.getCurrentUserError(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()}},Oe=n(31),de=n.n(Oe),ge=Object(p.b)((function(e){return{userName:se(e)}}),(function(e){return{onLogout:function(){return e(me.logout())}}}))((function(e){var t=e.userName,n=e.onLogout;return Object(ne.jsxs)("div",{className:de.a.container,children:[Object(ne.jsx)("span",{className:de.a.avatar,children:t.slice(0,1)}),Object(ne.jsx)("span",{className:de.a.name,children:t}),Object(ne.jsx)("button",{className:de.a.button,type:"button",onClick:n,children:"Log Out"})]})})),_e=n(56),xe=n.n(_e),ve=Object(p.b)((function(e){return{isAuthenticated:ue(e)}}))((function(e){var t=e.isAuthenticated;return Object(ne.jsxs)("div",{className:xe.a.Appbar,children:[Object(ne.jsx)(re,{}),t?Object(ne.jsx)(ge,{}):Object(ne.jsx)(oe,{})]})})),Ce=n(23),ke=n.n(Ce),Ne=function(e){Object(Y.a)(n,e);var t=Object(Z.a)(n);function n(){var e;Object(V.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:""},e.onChange=function(t){var n=t.currentTarget,r=n.name,a=n.value;e.setState(Object(x.a)({},r,a))},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state)},e}return Object(K.a)(n,[{key:"render",value:function(){return Object(ne.jsxs)("form",{className:ke.a.form,onSubmit:this.handleSubmit,children:[Object(ne.jsx)("h2",{className:ke.a.heading,children:"Log in"}),Object(ne.jsxs)("label",{className:ke.a.label,children:["Email",Object(ne.jsx)("input",{className:ke.a.input,type:"email",name:"email",autoComplete:"off",placeholder:"Enter your e-mail",onChange:this.onChange})]}),Object(ne.jsxs)("label",{className:ke.a.label,children:["Password",Object(ne.jsx)("input",{className:ke.a.input,type:"password",name:"password",autoComplete:"off",placeholder:"Enter your password",onChange:this.onChange})]}),Object(ne.jsx)("button",{type:"submit",className:ke.a.button,children:"Sign in"})]})}}]),n}(i.Component),Se=Object(p.b)(null,(function(e){return{onSubmit:function(t){return e(me.login(t))}}}))(Ne),ye=n(57),we=n.n(ye),Ee=function(){return Object(ne.jsx)("h1",{className:we.a.heading,children:"Welcome to Phonebook.app!"})},Le=n(20),Ue=n.n(Le),Ae=function(e){Object(Y.a)(n,e);var t=Object(Z.a)(n);function n(){var e;Object(V.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"",email:"",password:""},e.onChange=function(t){var n=t.currentTarget,r=n.name,a=n.value;e.setState(Object(x.a)({},r,a))},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state)},e}return Object(K.a)(n,[{key:"render",value:function(){return Object(ne.jsxs)("form",{className:Ue.a.form,onSubmit:this.handleSubmit,children:[Object(ne.jsx)("h2",{className:Ue.a.heading,children:"Sign up"}),Object(ne.jsxs)("label",{className:Ue.a.label,children:["Name",Object(ne.jsx)("input",{className:Ue.a.input,type:"text",name:"name",autoComplete:"off",placeholder:"Enter your name",onChange:this.onChange})]}),Object(ne.jsxs)("label",{className:Ue.a.label,children:["Email",Object(ne.jsx)("input",{className:Ue.a.input,type:"email",name:"email",autoComplete:"off",placeholder:"Enter your e-mail",onChange:this.onChange})]}),Object(ne.jsxs)("label",{className:Ue.a.label,children:["Password",Object(ne.jsx)("input",{className:Ue.a.input,type:"password",name:"password",autoComplete:"off",placeholder:"Enter your password",onChange:this.onChange})]}),Object(ne.jsx)("button",{type:"submit",className:Ue.a.button,children:"Register"})]})}}]),n}(i.Component),Fe=Object(p.b)(null,(function(e){return{onSubmit:function(t){return e(me.register(t))}}}))(Ae),Re=n(35),qe=function(e){return e.contacts.loading},Pe=function(e){return e.contacts.contacts},Te=function(e){return e.contacts.filter},Me=Object(Re.a)([Pe,Te],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))}));he.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var De=n(24),He=n.n(De),Ie=function(e){Object(Y.a)(n,e);var t=Object(Z.a)(n);function n(){var e;Object(V.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"",number:""},e.handleChange=function(t){var n=t.currentTarget,r=n.name,a=n.value;e.setState(Object(x.a)({},r,a))},e.handleSubmit=function(t){t.preventDefault();var n=e.state.name,r=e.props,a=r.contacts,c=r.onSubmit;if(a.find((function(e){return e.name.toLowerCase()===n.toLowerCase()})))return alert("".concat(n," Already exist")),void e.reset();c(e.state),e.reset()},e.reset=function(){e.setState({name:"",number:""})},e}return Object(K.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.number;return Object(ne.jsxs)("form",{className:He.a.form,onSubmit:this.handleSubmit,children:[Object(ne.jsx)("label",{className:He.a.label,htmlFor:"name",children:"Name"}),Object(ne.jsx)("input",{className:He.a.input,id:"name",type:"text",name:"name",value:t,onChange:this.handleChange,placeholder:"Name",autoComplete:"off",autoFocus:!0}),Object(ne.jsx)("label",{className:He.a.label,htmlFor:"number",children:"Number"}),Object(ne.jsx)("input",{id:"number",className:He.a.input,type:"text",name:"number",value:n,onChange:this.handleChange,placeholder:"Phone number",autoComplete:"off"}),Object(ne.jsx)("button",{className:He.a.btn,type:"submit",children:"Add contact"})]})}}]),n}(i.Component),ze=Object(p.b)((function(e){return{contacts:Pe(e)}}),(function(e){return{onSubmit:function(t){var n=t.name,r=t.number;return e(function(e){var t=e.name,n=e.number;return function(e){var r={name:t,number:n};e(S()),he.a.post("/contacts",r).then((function(t){var n=t.data;return e(y(n))})).catch((function(t){return e(w(t.message))}))}}({name:n,number:r}))}}}))(Ie),Be=n(39),Ge=n.n(Be),Qe=function(e){var t=e.filter,n=e.onChange;return Object(ne.jsx)("div",{className:Ge.a.wrapper,children:Object(ne.jsxs)("label",{className:Ge.a.label,children:["Find by Name",Object(ne.jsx)("input",{className:Ge.a.input,type:"text",value:t,onChange:n})]})})};Qe.defaultProps={filter:""};var We=Object(p.b)((function(e){return{filter:Te(e)}}),(function(e){return{onChange:function(t){return e(A(t.target.value))}}}))(Qe),Xe=n(10),Je=n(29),Ve=n.n(Je),Ke=Object(p.b)(null,(function(e){return{onDelete:function(t){return e((n=t,function(e){e(E()),he.a.delete("/contacts/".concat(n)).then((function(){return e(L(n))})).catch((function(t){return e(U(t.message))}))}));var n}}}))((function(e){var t=e.name,n=e.number,r=e.id,a=e.onDelete;return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)("span",{children:[t,": ",n]}),Object(ne.jsx)("button",{type:"button",className:Ve.a.close,onClick:function(){return a(r)},children:"+"})]})})),Ye=Object(p.b)((function(e){return{contacts:Me(e)}}))((function(e){var t=e.contacts;return Object(ne.jsx)(ne.Fragment,{children:t&&Object(ne.jsx)("ul",{className:Ve.a.list,children:t.map((function(e){return Object(ne.jsx)("li",{className:Ve.a.item,children:Object(ne.jsx)(Ke,Object(Xe.a)({},e))},e.id)}))})})})),Ze=n(44),$e=n.n(Ze),et=function(e){var t=e.title,n=e.children;return Object(ne.jsxs)("section",{className:$e.a.section,children:[Object(ne.jsx)("h2",{className:$e.a.heading,children:t}),n]})};et.defaultProps={title:""};var tt=et,nt=function(e){Object(Y.a)(n,e);var t=Object(Z.a)(n);function n(){return Object(V.a)(this,n),t.apply(this,arguments)}return Object(K.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(tt,{title:"Phonebook",children:Object(ne.jsx)(ze,{})}),Object(ne.jsxs)(tt,{title:"Contacts",children:[Object(ne.jsx)(We,{}),this.props.isLoadingContacts&&Object(ne.jsx)("h2",{children:" Loading contacts..."}),Object(ne.jsx)(Ye,{})]})]})}}]),n}(i.Component),rt=Object(p.b)((function(e){return{isLoadingContacts:qe(e)}}),(function(e){return{fetchContacts:function(){return e((function(e){e(C()),he.a.get("/contacts").then((function(t){var n=t.data;return e(k(n))})).catch((function(t){return e(N(t.message))}))}))}}}))(nt),at=n(37),ct=["component","isAuthenticated","redirectTo"],ot=Object(p.b)((function(e){return{isAuthenticated:ue(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=e.redirectTo,a=Object(at.a)(e,ct);return Object(ne.jsx)($.b,Object(Xe.a)(Object(Xe.a)({},a),{},{render:function(e){return n&&a.restricted?Object(ne.jsx)($.a,{to:r}):Object(ne.jsx)(t,Object(Xe.a)({},e))}}))})),ut=["component","isAuthenticated","redirectTo"],st=Object(p.b)((function(e){return{isAuthenticated:ue(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=e.redirectTo,a=Object(at.a)(e,ut);return Object(ne.jsx)($.b,Object(Xe.a)(Object(Xe.a)({},a),{},{render:function(e){return n?Object(ne.jsx)(t,Object(Xe.a)({},e)):Object(ne.jsx)($.a,{to:r})}}))})),it=function(e){Object(Y.a)(n,e);var t=Object(Z.a)(n);function n(){return Object(V.a)(this,n),t.apply(this,arguments)}return Object(K.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(ve,{}),Object(ne.jsxs)($.d,{children:[Object(ne.jsx)(ot,{exact:!0,path:"/",component:Ee}),Object(ne.jsx)(ot,{path:"/signup",restricted:!0,redirectTo:"/phonebook",component:Fe}),Object(ne.jsx)(ot,{path:"/login",restricted:!0,redirectTo:"/phonebook",component:Se}),Object(ne.jsx)(st,{path:"/phonebook",redirectTo:"/login",component:rt})]})]})}}]),n}(i.Component),lt={onGetCurrentUser:me.getCurrentUser},bt=Object(p.b)(null,lt)(it);n(93);j.a.render(Object(ne.jsx)(l.a.StrictMode,{children:Object(ne.jsx)(p.a,{store:J.store,children:Object(ne.jsx)(f.a,{loading:null,persistor:J.persistor,children:Object(ne.jsx)(h.a,{children:Object(ne.jsx)(bt,{})})})})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.684e5909.chunk.js.map